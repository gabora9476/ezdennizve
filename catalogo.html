<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ELEGANCE - Cat√°logo</title>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <link rel="icon" href="https://i.ibb.co/Y4yVWpZd/1logo-gold.png" type="image/png">
    
    <style>
        :root {
            /* Colores del Index - Electric Blue Theme */
            --electric-blue: #00f2ff;
            --electric-glow: rgba(0, 242, 255, 0.6);
            --dark-bg: #05070a;
            --gold-accent: #ffb400;
            
            /* Variables Base (Adaptadas al tema electric) */
            --primary-color: #00f2ff;
            --accent-color: #ffb400;
            --bg-dark: #05070a;
            
            /* Variables Computadas */
            --dynamic-bg: linear-gradient(90deg, var(--electric-blue), var(--gold-accent));
            --dynamic-text: linear-gradient(45deg, var(--electric-blue), var(--gold-accent));
            
            /* Sistema Glassmorphism mejorado */
            --glass-bg: rgba(10, 20, 30, 0.95);
            --glass-border: rgba(0, 242, 255, 0.2);
            --glass-blur: blur(20px);
            --text-main: #ffffff;
            --text-muted: #a0a0a0;
            --radius: 20px;
        }

        /* --- UI GLOBAL & ANTI-ROBO --- */
        body { 
            -webkit-user-select: none;        
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            
            background: radial-gradient(circle at center, #0a192f 0%, #05070a 100%);
            color: var(--text-main); 
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
            margin: 0; 
            padding: 0; 
            font-family: 'Poppins', sans-serif;
            -webkit-tap-highlight-color: transparent;
            transition: background-color 0.3s;
        }
        
        img { 
            pointer-events: none;
            -webkit-user-drag: none;
        }

        * { box-sizing: border-box; }

        /* --- ORBES DE FONDO (Adaptados al tema electric) --- */
        .background-orb { 
            position: fixed; 
            border-radius: 50%; 
            filter: blur(100px); 
            z-index: -1; 
            animation: floatOrb 12s infinite alternate; 
        }
        .orb-1 { 
            width: 350px; height: 350px; 
            background: var(--electric-blue); 
            top: -100px; left: -100px; 
            opacity: 0.15; 
        }
        .orb-2 { 
            width: 300px; height: 300px; 
            background: var(--gold-accent); 
            bottom: 10%; right: -80px; 
            opacity: 0.12; 
            animation-delay: -6s; 
        }

        @keyframes floatOrb { 
            from { transform: translate(0, 0); } 
            to { transform: translate(40px, 60px); } 
        }

        /* --- HEADER CON EFECTO GLASS MEJORADO --- */
        header {
            background: rgba(10, 20, 30, 0.8);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            padding: 15px 25px;
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(0, 242, 255, 0.2);
            box-shadow: 0 4px 30px rgba(0, 242, 255, 0.1);
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-img {
            height: 35px;
            width: auto;
            filter: drop-shadow(0 0 8px var(--gold-accent));
            animation: float 4s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }

        .logo-text { 
            font-size: 1.4rem; 
            font-weight: 700; 
            background: var(--dynamic-text); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            letter-spacing: 2px;
            text-transform: uppercase;
            text-shadow: 0 0 15px var(--electric-glow);
        }
        
        .header-icons { position: relative; }
        .header-icons i { 
            font-size: 1.3rem; 
            margin-left: 20px; 
            color: var(--electric-blue); 
            cursor: pointer; 
            transition: all 0.3s; 
            pointer-events: auto;
            filter: drop-shadow(0 0 5px var(--electric-glow));
        }
        
        .header-icons i:hover { 
            color: var(--gold-accent);
            transform: scale(1.2);
            filter: drop-shadow(0 0 10px var(--gold-accent));
        }
        
        .cart-count { 
            position: absolute; top: -5px; right: -8px; 
            background: var(--gold-accent); 
            font-size: 0.65rem; padding: 2px 6px; 
            border-radius: 10px; font-weight: bold; 
            box-shadow: 0 0 15px var(--gold-accent);
            color: #000;
        }

        /* --- CONTENEDOR PRINCIPAL --- */
        .container { 
            padding: 20px; 
            max-width: 1200px; 
            margin: 0 auto; 
            flex: 1; width: 100%; 
        }
        
        /* FILTROS CON ESTILO ELECTRIC */
        .filters { 
            display: flex; gap: 12px; 
            overflow-x: auto; padding-bottom: 15px; 
            margin-bottom: 10px; 
            scrollbar-width: none; pointer-events: auto; 
        }
        .filters::-webkit-scrollbar { display: none; }
        
        .filter-btn { 
            background: rgba(255, 255, 255, 0.05); 
            color: var(--text-muted); 
            border: 1px solid rgba(0, 242, 255, 0.2); 
            padding: 10px 20px; 
            border-radius: 25px; 
            white-space: nowrap; 
            cursor: pointer; 
            transition: all 0.3s;
            backdrop-filter: blur(10px);
            font-size: 0.9rem;
        }
        
        .filter-btn:hover {
            border-color: var(--electric-blue);
            box-shadow: 0 0 15px var(--electric-glow);
        }
        
        .filter-btn.active { 
            background: var(--dynamic-bg); 
            color: white; 
            border: none; 
            box-shadow: 0 0 20px var(--electric-glow);
            font-weight: 600;
        }

        /* GRID PRODUCTOS CON EFECTO GLASS */
        .grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); 
            gap: 20px; 
        }
        
        .product-card { 
            background: rgba(255, 255, 255, 0.05); 
            border: 1px solid rgba(0, 242, 255, 0.2); 
            border-radius: var(--radius); 
            overflow: hidden; 
            position: relative; 
            transition: all 0.3s; 
            backdrop-filter: blur(10px); 
            cursor: pointer; 
            pointer-events: auto;
        }
        
        .product-card:hover { 
            transform: translateY(-8px); 
            box-shadow: 0 15px 35px rgba(0, 242, 255, 0.3); 
            border-color: var(--electric-blue); 
        }
        .product-card:active { transform: scale(0.98); }
        
        .badge-new { 
            position: absolute; top: 10px; left: 10px; 
            background: var(--gold-accent); 
            color: #000; 
            padding: 4px 10px; 
            border-radius: 15px; 
            font-size: 0.65rem; 
            font-weight: bold; 
            z-index: 10; 
            box-shadow: 0 0 15px var(--gold-accent);
        }
        
        .badge-out { 
            position: absolute; top: 10px; right: 10px; 
            background: rgba(255, 0, 0, 0.9); 
            color: white; 
            padding: 4px 8px; 
            border-radius: 12px; 
            font-size: 0.6rem; 
            font-weight: bold; 
            z-index: 10; 
        }

        .product-img-container {
            position: relative; 
            width: 100%; 
            padding-top: 100%; 
            background: rgba(0, 0, 0, 0.3); 
            overflow: hidden;
        }
        
        .product-img {
            position: absolute; 
            top: 0; left: 0; 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
            transition: transform 0.5s;
        }
        
        .product-card:hover .product-img { 
            transform: scale(1.1); 
        }

        .product-info { 
            padding: 12px; 
        }
        
        .product-name { 
            font-size: 0.9rem; 
            font-weight: 600; 
            margin-bottom: 5px; 
            color: white;
        }
        
        .product-price { 
            font-size: 1.1rem; 
            font-weight: bold; 
            color: var(--electric-blue);
            text-shadow: 0 0 10px var(--electric-glow);
        }

        /* --- MODALES CON GLASSMORPHISM MEJORADO --- */
        .modal { 
            position: fixed; 
            top: 0; left: 0; 
            width: 100vw; 
            height: 100vh; 
            background: rgba(0, 0, 0, 0.85); 
            backdrop-filter: blur(10px);
            display: none; 
            justify-content: center; 
            align-items: center; 
            z-index: 200; 
            padding: 20px;
            overflow-y: auto;
        }
        
        .modal.active { display: flex; }

        .modal-content { 
            background: rgba(10, 20, 30, 0.95); 
            backdrop-filter: blur(20px);
            padding: 25px; 
            border-radius: 25px; 
            max-width: 500px; 
            width: 100%; 
            position: relative; 
            border: 1px solid rgba(0, 242, 255, 0.3);
            box-shadow: 0 0 40px rgba(0, 242, 255, 0.2);
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-close { 
            position: absolute; 
            top: 15px; 
            right: 15px; 
            font-size: 1.5rem; 
            color: var(--electric-blue); 
            cursor: pointer; 
            transition: 0.3s;
            pointer-events: auto;
        }
        
        .modal-close:hover { 
            color: var(--gold-accent);
            transform: rotate(90deg);
        }

        /* Imagen del modal */
        .modal-images { 
            display: flex; 
            overflow-x: auto; 
            gap: 10px; 
            margin-bottom: 15px; 
            scrollbar-width: none;
        }
        .modal-images::-webkit-scrollbar { display: none; }
        
        .modal-images img { 
            width: 100%; 
            border-radius: 15px; 
            flex-shrink: 0;
            border: 1px solid rgba(0, 242, 255, 0.2);
        }

        /* Selectores de variantes */
        .variant-selector { 
            margin: 15px 0; 
        }
        
        .variant-options { 
            display: flex; 
            flex-wrap: wrap; 
            gap: 8px; 
            margin-top: 8px; 
        }
        
        .variant-option { 
            background: rgba(255, 255, 255, 0.05); 
            border: 1px solid rgba(0, 242, 255, 0.2); 
            padding: 8px 15px; 
            border-radius: 15px; 
            cursor: pointer; 
            transition: all 0.3s;
            font-size: 0.85rem;
            pointer-events: auto;
        }
        
        .variant-option:hover { 
            border-color: var(--electric-blue);
            box-shadow: 0 0 10px var(--electric-glow);
        }
        
        .variant-option.selected { 
            background: var(--electric-blue); 
            color: #000; 
            border-color: var(--electric-blue);
            box-shadow: 0 0 15px var(--electric-glow);
            font-weight: 600;
        }

        /* Botones */
        .btn { 
            padding: 14px 30px; 
            border-radius: 20px; 
            border: none; 
            font-weight: 600; 
            cursor: pointer; 
            transition: all 0.3s; 
            width: 100%;
            pointer-events: auto;
        }
        
        .btn-primary { 
            background: var(--dynamic-bg);
            color: white;
            box-shadow: 0 0 20px var(--electric-glow);
        }
        
        .btn-primary:hover { 
            transform: translateY(-3px);
            box-shadow: 0 5px 30px var(--electric-glow);
        }
        
        .btn-primary:active { transform: scale(0.98); }

        .btn-secondary { 
            background: rgba(255, 255, 255, 0.05); 
            color: white; 
            border: 1px solid rgba(0, 242, 255, 0.3);
        }
        
        .btn-secondary:hover { 
            background: rgba(0, 242, 255, 0.1);
            border-color: var(--electric-blue);
        }

        /* --- CARRITO LATERAL --- */
        #cartSidebar { 
            position: fixed; 
            right: -100%; 
            top: 0; 
            width: 90%; 
            max-width: 400px; 
            height: 100vh; 
            background: rgba(10, 20, 30, 0.98);
            backdrop-filter: blur(20px);
            box-shadow: -5px 0 30px rgba(0, 0, 0, 0.5); 
            z-index: 300; 
            transition: right 0.4s;
            display: flex;
            flex-direction: column;
            border-left: 1px solid rgba(0, 242, 255, 0.3);
        }
        
        #cartSidebar.active { right: 0; }

        .cart-header { 
            padding: 20px; 
            border-bottom: 1px solid rgba(0, 242, 255, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .cart-header h2 { 
            font-size: 1.3rem;
            background: var(--dynamic-text);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .cart-items { 
            flex: 1; 
            overflow-y: auto; 
            padding: 15px; 
        }

        .cart-item { 
            background: rgba(255, 255, 255, 0.05); 
            padding: 12px; 
            border-radius: 15px; 
            margin-bottom: 12px; 
            display: flex; 
            gap: 12px;
            border: 1px solid rgba(0, 242, 255, 0.1);
        }
        
        .cart-item-img { 
            width: 60px; 
            height: 60px; 
            object-fit: cover; 
            border-radius: 10px;
            border: 1px solid rgba(0, 242, 255, 0.2);
        }
        
        .cart-item-info { 
            flex: 1; 
        }
        
        .cart-item-name { 
            font-weight: 600; 
            margin-bottom: 4px; 
            font-size: 0.9rem;
        }
        
        .cart-item-variant { 
            font-size: 0.7rem; 
            color: var(--text-muted); 
        }
        
        .cart-item-price { 
            font-weight: bold; 
            color: var(--electric-blue);
            text-shadow: 0 0 5px var(--electric-glow);
        }
        
        .cart-item-remove { 
            color: #ff4444; 
            cursor: pointer; 
            transition: 0.3s;
            pointer-events: auto;
        }
        
        .cart-item-remove:hover { 
            color: #ff0000;
            transform: scale(1.2);
        }

        .cart-footer { 
            padding: 20px; 
            border-top: 1px solid rgba(0, 242, 255, 0.2);
        }
        
        .cart-total { 
            font-size: 1.3rem; 
            font-weight: bold; 
            margin-bottom: 15px; 
            display: flex; 
            justify-content: space-between;
        }
        
        .cart-total-value { 
            color: var(--electric-blue);
            text-shadow: 0 0 10px var(--electric-glow);
        }

        /* --- PANEL ADMIN --- */
        #adminDashboard { display: none; }
        
        .tabs { 
            display: flex; 
            gap: 10px; 
            margin-bottom: 20px; 
            overflow-x: auto;
            scrollbar-width: none;
        }
        .tabs::-webkit-scrollbar { display: none; }
        
        .tab { 
            padding: 10px 20px; 
            background: rgba(255, 255, 255, 0.05); 
            border: 1px solid rgba(0, 242, 255, 0.2); 
            border-radius: 15px; 
            cursor: pointer; 
            white-space: nowrap;
            transition: all 0.3s;
            pointer-events: auto;
        }
        
        .tab:hover {
            border-color: var(--electric-blue);
            box-shadow: 0 0 10px var(--electric-glow);
        }
        
        .tab.active { 
            background: var(--dynamic-bg); 
            border: none;
            box-shadow: 0 0 15px var(--electric-glow);
        }

        .tab-content { display: none; }

        .input-glass, textarea, select { 
            width: 100%; 
            padding: 12px; 
            margin: 8px 0; 
            background: rgba(255, 255, 255, 0.05); 
            border: 1px solid rgba(0, 242, 255, 0.2); 
            border-radius: 12px; 
            color: white; 
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s;
        }
        
        .input-glass:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--electric-blue);
            box-shadow: 0 0 15px var(--electric-glow);
            background: rgba(255, 255, 255, 0.08);
        }

        /* --- FOOTER --- */
        footer { 
            background: rgba(10, 20, 30, 0.8);
            backdrop-filter: blur(20px);
            padding: 30px 20px; 
            text-align: center; 
            border-top: 1px solid rgba(0, 242, 255, 0.2);
        }

        .footer-logo { 
            height: 40px; 
            margin-bottom: 15px;
            filter: drop-shadow(0 0 10px var(--gold-accent));
        }

        .social-links { 
            display: flex; 
            justify-content: center; 
            gap: 15px; 
            margin: 20px 0; 
        }
        
        .social-icon-footer { 
            width: 40px; 
            height: 40px; 
            border-radius: 50%; 
            background: rgba(255, 255, 255, 0.05); 
            border: 1px solid rgba(0, 242, 255, 0.2); 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            color: var(--electric-blue); 
            transition: all 0.3s;
            pointer-events: auto;
        }
        
        .social-icon-footer:hover { 
            transform: scale(1.2) translateY(-5px);
            background: var(--electric-blue);
            color: #000;
            box-shadow: 0 0 20px var(--electric-glow);
        }

        .footer-payment { 
            margin: 20px 0; 
            font-size: 0.85rem; 
            color: var(--text-muted);
        }

        /* --- TOAST --- */
        #toast { 
            position: fixed; 
            bottom: -100px; 
            left: 50%; 
            transform: translateX(-50%); 
            background: rgba(10, 20, 30, 0.95);
            backdrop-filter: blur(20px);
            padding: 15px 30px; 
            border-radius: 20px; 
            z-index: 500; 
            transition: bottom 0.4s;
            border: 1px solid rgba(0, 242, 255, 0.3);
            box-shadow: 0 0 30px var(--electric-glow);
        }
        
        #toast.show { bottom: 30px; }

        /* Checkboxes personalizados */
        .checkbox-container { 
            display: flex; 
            align-items: center; 
            gap: 10px; 
            margin: 10px 0; 
        }
        
        input[type="checkbox"] { 
            width: 20px; 
            height: 20px; 
            accent-color: var(--electric-blue);
        }

        /* Color pickers */
        input[type="color"] { 
            width: 60px; 
            height: 40px; 
            border: 1px solid rgba(0, 242, 255, 0.3); 
            border-radius: 8px; 
            cursor: pointer;
        }

        /* Powered by */
        .powered-by {
            margin-top: 20px;
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.4);
            letter-spacing: 1px;
        }

        .powered-by a {
            color: var(--electric-blue);
            text-decoration: none;
            font-weight: bold;
            transition: 0.3s;
        }

        .powered-by a:hover {
            color: var(--gold-accent);
            text-shadow: 0 0 10px var(--gold-accent);
        }

        /* --- RESPONSIVE --- */
        @media (max-width: 500px) {
            .grid { grid-template-columns: repeat(2, 1fr); gap: 15px; }
            .modal-content { padding: 20px; }
            .logo-text { font-size: 1.2rem; }
        }
    </style>
</head>
<body>
    <!-- Orbes de fondo -->
    <div class="background-orb orb-1"></div>
    <div class="background-orb orb-2"></div>

    <!-- Header -->
    <header>
        <div class="logo-container">
            <img src="https://i.ibb.co/Y4yVWpZd/1logo-gold.png" alt="ELEGANCE" class="logo-img">
            <span class="logo-text">ELEGANCE</span>
        </div>
        <div class="header-icons">
            <i class="fas fa-cog" onclick="openAdmin()"></i>
            <i class="fas fa-shopping-cart" onclick="toggleCart()">
                <span class="cart-count" id="cartCount">0</span>
            </i>
        </div>
    </header>

    <!-- Contenedor Principal -->
    <div class="container">
        <!-- Filtros -->
        <div class="filters" id="filterButtons"></div>

        <!-- Grid de Productos -->
        <div class="grid" id="productGrid"></div>
    </div>

    <!-- Footer -->
    <footer id="footerSection"></footer>

    <!-- Modal Detalle Producto -->
    <div class="modal" id="productModal">
        <div class="modal-content">
            <i class="fas fa-times modal-close" onclick="closeModal('productModal')"></i>
            <div class="modal-images" id="modalImages"></div>
            <h2 id="modalName" style="margin-bottom: 10px;"></h2>
            <p id="modalPrice" style="font-size: 1.5rem; color: var(--electric-blue); font-weight: bold; margin-bottom: 10px; text-shadow: 0 0 10px var(--electric-glow);"></p>
            <p id="modalDesc" style="color: var(--text-muted); margin-bottom: 15px; font-size: 0.9rem;"></p>
            <div id="modalVariants"></div>
            <button class="btn btn-primary" onclick="addToCart()">
                <i class="fas fa-cart-plus"></i> Agregar al Carrito
            </button>
        </div>
    </div>

    <!-- Sidebar Carrito -->
    <div id="cartSidebar">
        <div class="cart-header">
            <h2><i class="fas fa-shopping-cart"></i> Tu Carrito</h2>
            <i class="fas fa-times" style="cursor: pointer; color: var(--electric-blue); font-size: 1.5rem;" onclick="toggleCart()"></i>
        </div>
        <div class="cart-items" id="cartItemsList"></div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>TOTAL:</span>
                <span class="cart-total-value" id="cartTotal">$0</span>
            </div>
            <button class="btn btn-primary" onclick="checkout()">
                <i class="fab fa-whatsapp"></i> Finalizar Pedido
            </button>
        </div>
    </div>

    <!-- Modal Admin -->
    <div class="modal" id="adminModal">
        <div class="modal-content" style="max-width: 700px;">
            <i class="fas fa-times modal-close" onclick="closeModal('adminModal')"></i>
            
            <div id="adminLogin">
                <h2 style="text-align: center; margin-bottom: 20px; background: var(--dynamic-text); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Panel Admin</h2>
                <input type="password" id="adminPass" class="input-glass" placeholder="Contrase√±a">
                <button class="btn btn-primary" onclick="loginAdmin()">Ingresar</button>
            </div>

            <div id="adminDashboard">
                <h2 style="text-align: center; margin-bottom: 20px; background: var(--dynamic-text); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Dashboard Admin</h2>
                
                <div class="tabs">
                    <div class="tab active" onclick="switchAdminTab('products')">Productos</div>
                    <div class="tab" onclick="switchAdminTab('add')">Agregar/Editar</div>
                    <div class="tab" onclick="switchAdminTab('config')">Configuraci√≥n</div>
                    <div class="tab" onclick="switchAdminTab('design')">Dise√±o</div>
                </div>

                <!-- Tab Productos -->
                <div id="tab-products" class="tab-content" style="display: block;">
                    <button class="btn btn-secondary" style="margin-bottom: 15px;" onclick="switchAdminTab('add')">+ Nuevo Producto</button>
                    <div id="adminProductList"></div>
                </div>

                <!-- Tab Agregar/Editar -->
                <div id="tab-add" class="tab-content">
                    <input type="hidden" id="editProductId">
                    <input type="text" id="prodName" class="input-glass" placeholder="Nombre del Producto">
                    <input type="number" id="prodPrice" class="input-glass" placeholder="Precio">
                    <select id="prodCategory" class="input-glass" onchange="renderAttributeInputs()">
                        <option value="perfume">Perfume</option>
                        <option value="clothing">Ropa</option>
                        <option value="shoes">Zapatos</option>
                        <option value="makeup">Maquillaje</option>
                        <option value="accessories">Accesorios</option>
                    </select>
                    <textarea id="prodDesc" class="input-glass" rows="3" placeholder="Descripci√≥n"></textarea>
                    <input type="text" id="prodImages" class="input-glass" placeholder="URLs de im√°genes (separadas por comas)">
                    <div id="dynamicAttributes"></div>
                    <div class="checkbox-container">
                        <input type="checkbox" id="prodNew">
                        <label>Marcar como Nuevo</label>
                    </div>
                    <div class="checkbox-container">
                        <input type="checkbox" id="prodStock" checked>
                        <label>En Stock</label>
                    </div>
                    <button class="btn btn-primary" onclick="saveProduct()">Guardar Producto</button>
                </div>

                <!-- Tab Configuraci√≥n -->
                <div id="tab-config" class="tab-content">
                    <h3 style="margin-bottom: 15px;">API Keys</h3>
                    <input type="text" id="cfgBinId" class="input-glass" placeholder="JSONBin ID">
                    <input type="text" id="cfgApiKey" class="input-glass" placeholder="JSONBin API Key">
                    <input type="text" id="cfgImgbbKey" class="input-glass" placeholder="ImgBB API Key">
                    
                    <h3 style="margin: 20px 0 15px;">M√©todos de Pago</h3>
                    <textarea id="cfgPayTransfer" class="input-glass" rows="2" placeholder="Info Transferencia"></textarea>
                    <input type="text" id="cfgPayUsdt" class="input-glass" placeholder="Direcci√≥n USDT">
                    <input type="text" id="cfgPayPaypal" class="input-glass" placeholder="Email PayPal">
                    
                    <h3 style="margin: 20px 0 15px;">Redes Sociales</h3>
                    <div class="checkbox-container">
                        <input type="checkbox" id="checkInsta">
                        <input type="text" id="socialInsta" class="input-glass" placeholder="Instagram URL">
                    </div>
                    <div class="checkbox-container">
                        <input type="checkbox" id="checkTiktok">
                        <input type="text" id="socialTiktok" class="input-glass" placeholder="TikTok URL">
                    </div>
                    <div class="checkbox-container">
                        <input type="checkbox" id="checkFb">
                        <input type="text" id="socialFb" class="input-glass" placeholder="Facebook URL">
                    </div>
                    
                    <button class="btn btn-primary" onclick="saveConfig()">Guardar Configuraci√≥n</button>
                </div>

                <!-- Tab Dise√±o -->
                <div id="tab-design" class="tab-content">
                    <h3 style="margin-bottom: 15px;">Personalizar Colores</h3>
                    <div style="display: flex; gap: 15px; margin-bottom: 15px; align-items: center;">
                        <label>Color Primario:</label>
                        <input type="color" id="colorPrimary" value="#00f2ff">
                    </div>
                    <div style="display: flex; gap: 15px; margin-bottom: 15px; align-items: center;">
                        <label>Color Acento:</label>
                        <input type="color" id="colorAccent" value="#ffb400">
                    </div>
                    <button class="btn btn-primary" onclick="applyTheme()">Aplicar Tema</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notificaciones -->
    <div id="toast"><span></span></div>

    <script>
        // --- DATOS LOCALES (FALLBACK) ---
        let products = [
            {id:1, name:"Perfume Elegance Noir", price:45, category:"perfume", images:["https://images.unsplash.com/photo-1541643600914-78b084683601?w=400"], desc:"Fragancia exclusiva de lujo", attributes:{Volumen:["50ml","100ml"]}, isNew:true, inStock:true},
            {id:2, name:"Perfume Royal Gold", price:55, category:"perfume", images:["https://images.unsplash.com/photo-1592945403244-b3fbafd7f539?w=400"], desc:"Aroma sofisticado", attributes:{Volumen:["50ml","100ml"]}, isNew:false, inStock:true},
            {id:3, name:"Camisa Premium", price:35, category:"clothing", images:["https://images.unsplash.com/photo-1602810318383-e386cc2a3ccf?w=400"], desc:"Estilo elegante", attributes:{Talla:["S","M","L","XL"]}, isNew:false, inStock:true},
        ];

        let config = {
            binId: localStorage.getItem('butic_binId') || '',
            apiKey: localStorage.getItem('butic_apiKey') || '',
            imgbbKey: localStorage.getItem('butic_imgbbKey') || '',
            paymentInfo: JSON.parse(localStorage.getItem('butic_paymentInfo') || '{"transferencia":"","usdt":"","paypal":""}'),
            socials: JSON.parse(localStorage.getItem('butic_socials') || '{"instagram":{"url":"https://www.instagram.com/dennizguerra","enabled":true},"tiktok":{"url":"","enabled":false},"facebook":{"url":"","enabled":false}}'),
            theme: { primary: "#00f2ff", accent: "#ffb400" }
        };

        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let currentFilter = 'all';
        let selectedProduct = null;
        let selectedVariants = {};

        // --- INICIALIZACI√ìN ---
        document.addEventListener('DOMContentLoaded', () => {
            loadTheme();
            renderCategories();
            renderProducts(products);
            updateCartUI();
            renderFooter();
            if(config.binId && config.apiKey) fetchData();
        });

        function loadTheme() {
            document.documentElement.style.setProperty('--primary-color', config.theme.primary);
            document.documentElement.style.setProperty('--accent-color', config.theme.accent);
        }

        function applyTheme() {
            const p = document.getElementById('colorPrimary').value;
            const a = document.getElementById('colorAccent').value;
            config.theme = { primary: p, accent: a };
            loadTheme();
            saveDataToCloud();
            showToast("üé® Tema aplicado");
        }

        // --- RENDER CATEGOR√çAS ---
        function renderCategories() {
            const cats = ['all', ...new Set(products.filter(p => isAdminMode() || p.inStock).map(p => p.category))];
            const labels = {all:'Todos', perfume:'Perfumes', clothing:'Ropa', shoes:'Zapatos', makeup:'Maquillaje', accessories:'Accesorios'};
            
            document.getElementById('filterButtons').innerHTML = cats.map(c => 
                `<div class="filter-btn ${c===currentFilter?'active':''}" onclick="filterBy('${c}')">${labels[c] || c}</div>`
            ).join('');
        }

        function filterBy(cat) {
            currentFilter = cat;
            renderCategories();
            const filtered = cat === 'all' ? products : products.filter(p => p.category === cat);
            renderProducts(filtered);
        }

        // --- RENDER PRODUCTOS ---
        function renderProducts(list) {
            const grid = document.getElementById('productGrid');
            const visible = list.filter(p => isAdminMode() || p.inStock);
            
            grid.innerHTML = visible.map(p => `
                <div class="product-card" onclick="openProductModal(${p.id})">
                    ${p.isNew ? '<div class="badge-new">NUEVO</div>' : ''}
                    ${!p.inStock ? '<div class="badge-out">AGOTADO</div>' : ''}
                    <div class="product-img-container">
                        <img src="${p.images[0]}" alt="${p.name}" class="product-img">
                    </div>
                    <div class="product-info">
                        <div class="product-name">${p.name}</div>
                        <div class="product-price">$${p.price}</div>
                    </div>
                </div>
            `).join('');
        }

        // --- MODAL PRODUCTO ---
        function openProductModal(id) {
            selectedProduct = products.find(p => p.id === id);
            selectedVariants = {};
            
            document.getElementById('modalImages').innerHTML = selectedProduct.images.map(img => 
                `<img src="${img}" alt="${selectedProduct.name}">`
            ).join('');
            
            document.getElementById('modalName').innerText = selectedProduct.name;
            document.getElementById('modalPrice').innerText = `$${selectedProduct.price}`;
            document.getElementById('modalDesc').innerText = selectedProduct.desc || '';
            
            const variantsDiv = document.getElementById('modalVariants');
            variantsDiv.innerHTML = '';
            
            if(selectedProduct.attributes) {
                Object.keys(selectedProduct.attributes).forEach(key => {
                    variantsDiv.innerHTML += `
                        <div class="variant-selector">
                            <strong style="font-size: 0.9rem; color: var(--text-muted);">${key}:</strong>
                            <div class="variant-options">
                                ${selectedProduct.attributes[key].map(v => 
                                    `<div class="variant-option" onclick="selectVariant('${key}', '${v}')">${v}</div>`
                                ).join('')}
                            </div>
                        </div>
                    `;
                });
            }
            
            document.getElementById('productModal').classList.add('active');
        }

        function selectVariant(key, value) {
            selectedVariants[key] = value;
            
            document.querySelectorAll('.variant-option').forEach(opt => {
                if(opt.innerText === value && opt.closest('.variant-selector').querySelector('strong').innerText.includes(key)) {
                    opt.classList.add('selected');
                } else if(opt.closest('.variant-selector').querySelector('strong').innerText.includes(key)) {
                    opt.classList.remove('selected');
                }
            });
        }

        function addToCart() {
            if(!selectedProduct) return;
            
            const requiredKeys = selectedProduct.attributes ? Object.keys(selectedProduct.attributes) : [];
            const selectedKeys = Object.keys(selectedVariants);
            
            if(requiredKeys.some(k => !selectedKeys.includes(k))) {
                showToast("‚ö†Ô∏è Selecciona todas las opciones");
                return;
            }
            
            const cartItem = {
                id: Date.now(),
                productId: selectedProduct.id,
                name: selectedProduct.name,
                price: selectedProduct.price,
                image: selectedProduct.images[0],
                variants: {...selectedVariants}
            };
            
            cart.push(cartItem);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartUI();
            closeModal('productModal');
            showToast("‚úÖ Agregado al carrito");
        }

        // --- CARRITO ---
        function toggleCart() {
            document.getElementById('cartSidebar').classList.toggle('active');
        }

        function updateCartUI() {
            document.getElementById('cartCount').innerText = cart.length;
            
            const list = document.getElementById('cartItemsList');
            if(cart.length === 0) {
                list.innerHTML = '<p style="text-align: center; color: var(--text-muted); padding: 40px 20px;">Tu carrito est√° vac√≠o</p>';
            } else {
                list.innerHTML = cart.map(item => `
                    <div class="cart-item">
                        <img src="${item.image}" class="cart-item-img">
                        <div class="cart-item-info">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-variant">${Object.entries(item.variants).map(([k,v]) => `${k}: ${v}`).join(' | ')}</div>
                            <div class="cart-item-price">$${item.price}</div>
                        </div>
                        <i class="fas fa-trash cart-item-remove" onclick="removeFromCart(${item.id})"></i>
                    </div>
                `).join('');
            }
            
            const total = cart.reduce((sum, item) => sum + item.price, 0);
            document.getElementById('cartTotal').innerText = `$${total}`;
        }

        function removeFromCart(id) {
            cart = cart.filter(item => item.id !== id);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartUI();
        }

        function checkout() {
            if(cart.length === 0) {
                showToast("‚ö†Ô∏è El carrito est√° vac√≠o");
                return;
            }
            
            let msg = "¬°Hola! Quiero realizar el siguiente pedido:\n\n";
            cart.forEach(item => {
                msg += `‚Ä¢ ${item.name}\n`;
                msg += `  ${Object.entries(item.variants).map(([k,v]) => `${k}: ${v}`).join(' | ')}\n`;
                msg += `  Precio: $${item.price}\n\n`;
            });
            
            const total = cart.reduce((sum, item) => sum + item.price, 0);
            msg += `*TOTAL: $${total}*`;
            
            window.open(`https://wa.me/584129750307?text=${encodeURIComponent(msg)}`, '_blank');
        }

        // --- FOOTER ---
        function renderFooter() {
            const socials = Object.entries(config.socials).filter(([k,v]) => v.enabled);
            const icons = {instagram: 'fa-instagram', tiktok: 'fa-tiktok', facebook: 'fa-facebook-f'};
            
            document.getElementById('footerSection').innerHTML = `
                <img src="https://i.ibb.co/Y4yVWpZd/1logo-gold.png" alt="ELEGANCE" class="footer-logo">
                <h3 style="margin-bottom: 15px; background: var(--dynamic-text); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">ELEGANCE</h3>
                <p style="color: var(--text-muted); font-size: 0.85rem; margin-bottom: 20px;">Perfumes & Barber√≠a Premium</p>
                
                ${socials.length > 0 ? `
                    <div class="social-links">
                        ${socials.map(([k,v]) => `
                            <a href="${v.url}" target="_blank" class="social-icon-footer">
                                <i class="fab ${icons[k]}"></i>
                            </a>
                        `).join('')}
                    </div>
                ` : ''}
                
                <div class="footer-payment">
                    <p style="margin-bottom: 10px;"><i class="fas fa-shield-alt" style="color: var(--electric-blue);"></i> Compra 100% Segura</p>
                    <p style="font-size: 0.75rem;">Aceptamos: Transferencia, USDT, PayPal</p>
                </div>
                
                <p style="font-size: 0.7rem; color: rgba(255, 255, 255, 0.3); margin-top: 20px;">¬© 2026 ELEGANCE. Todos los derechos reservados.</p>
                
                <div class="powered-by">
                    powered by <a href="https://wa.me/584228745777?text=Estoy%20interesado%20en%20sus%20servicios%20digitales" target="_blank">gabora646</a>
                </div>
            `;
        }

        // --- SINCRONIZACI√ìN NUBE ---
        async function fetchData() {
            showToast("üîÑ Sincronizando...");
            try {
                const res = await fetch(`https://api.jsonbin.io/v3/b/${config.binId}/latest`, { 
                    headers: { 'X-Master-Key': config.apiKey } 
                });
                if(res.ok) {
                    const data = await res.json();
                    
                    if(data.record.products) products = data.record.products;
                    if(data.record.paymentInfo) config.paymentInfo = data.record.paymentInfo;
                    if(data.record.socials) config.socials = data.record.socials;
                    if(data.record.theme) { config.theme = data.record.theme; loadTheme(); }
                    
                    renderProducts(products);
                    renderCategories();
                    renderFooter();
                }
            } catch (e) { showToast("‚ö†Ô∏è Usando datos locales"); }
        }

        function saveConfig() {
            config.binId = document.getElementById('cfgBinId').value;
            config.apiKey = document.getElementById('cfgApiKey').value;
            config.imgbbKey = document.getElementById('cfgImgbbKey').value;
            
            config.paymentInfo = {
                transferencia: document.getElementById('cfgPayTransfer').value,
                usdt: document.getElementById('cfgPayUsdt').value,
                paypal: document.getElementById('cfgPayPaypal').value
            };

            config.socials = {
                instagram: { url: document.getElementById('socialInsta').value, enabled: document.getElementById('checkInsta').checked },
                tiktok: { url: document.getElementById('socialTiktok').value, enabled: document.getElementById('checkTiktok').checked },
                facebook: { url: document.getElementById('socialFb').value, enabled: document.getElementById('checkFb').checked }
            };

            localStorage.setItem('butic_binId', config.binId);
            localStorage.setItem('butic_apiKey', config.apiKey);
            localStorage.setItem('butic_imgbbKey', config.imgbbKey);
            localStorage.setItem('butic_paymentInfo', JSON.stringify(config.paymentInfo));
            localStorage.setItem('butic_socials', JSON.stringify(config.socials));

            saveDataToCloud();
            renderFooter();
            showToast("‚úÖ Datos Guardados");
        }

        async function saveDataToCloud() {
            if (!config.binId || !config.apiKey) return;
            try {
                await fetch(`https://api.jsonbin.io/v3/b/${config.binId}`, {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json', 'X-Master-Key': config.apiKey },
                    body: JSON.stringify({ 
                        products: products, 
                        paymentInfo: config.paymentInfo, 
                        theme: config.theme, 
                        socials: config.socials 
                    })
                });
            } catch (e) { console.error("Error guardando en nube"); }
        }

        // --- PANEL ADMIN ---
        function openAdmin() { document.getElementById('adminModal').classList.add('active'); }
        function closeModal(id) { document.getElementById(id).classList.remove('active'); }
        function isAdminMode() { return document.getElementById('adminDashboard').style.display === 'block'; }
        
        function loginAdmin() {
            if(document.getElementById('adminPass').value === "System32") {
                document.getElementById('adminLogin').style.display = 'none';
                document.getElementById('adminDashboard').style.display = 'block';
                renderAdminProducts();
                renderCategories();
                renderProducts(products);
                
                // Cargar valores en config
                document.getElementById('cfgBinId').value = config.binId;
                document.getElementById('cfgApiKey').value = config.apiKey;
                document.getElementById('cfgImgbbKey').value = config.imgbbKey;
                document.getElementById('cfgPayTransfer').value = config.paymentInfo.transferencia;
                document.getElementById('cfgPayUsdt').value = config.paymentInfo.usdt;
                document.getElementById('cfgPayPaypal').value = config.paymentInfo.paypal;
                document.getElementById('socialInsta').value = config.socials.instagram.url;
                document.getElementById('checkInsta').checked = config.socials.instagram.enabled;
                document.getElementById('socialTiktok').value = config.socials.tiktok.url;
                document.getElementById('checkTiktok').checked = config.socials.tiktok.enabled;
                document.getElementById('socialFb').value = config.socials.facebook.url;
                document.getElementById('checkFb').checked = config.socials.facebook.enabled;
                document.getElementById('colorPrimary').value = config.theme.primary;
                document.getElementById('colorAccent').value = config.theme.accent;
            } else showToast("Contrase√±a incorrecta");
        }

        function switchAdminTab(t) {
            document.querySelectorAll('.tab').forEach(x => x.classList.remove('active'));
            event.target.classList.add('active');
            ['products', 'add', 'config', 'design'].forEach(x => document.getElementById('tab-'+x).style.display = (x===t)?'block':'none');
        }

        function renderAdminProducts() {
            const list = document.getElementById('adminProductList');
            list.innerHTML = '';
            products.forEach(p => {
                list.innerHTML += `
                    <div style="display:flex; justify-content:space-between; padding:10px; background:rgba(255,255,255,0.05); margin-bottom:5px; border-radius:8px; border: 1px solid rgba(0, 242, 255, 0.1);">
                        <span style="color:${p.inStock?'white':'red'}">${p.name} ($${p.price})</span>
                        <div>
                            <i class="fas fa-edit" style="color:var(--electric-blue); margin-right:10px; cursor:pointer" onclick="editProduct(${p.id})"></i>
                            <i class="fas fa-trash" style="color:var(--gold-accent); cursor:pointer" onclick="deleteProduct(${p.id})"></i>
                        </div>
                    </div>`;
            });
        }

        function renderAttributeInputs(preset=null) {
            const cat = document.getElementById('prodCategory').value;
            const container = document.getElementById('dynamicAttributes');
            container.innerHTML = '';
            
            const mappings = {
                clothing: ['Talla'], 
                shoes: ['Talla', 'Horma'], 
                perfume: ['Volumen'],
                makeup: ['Tono'], 
                accessories: ['Color']
            };
            
            (mappings[cat] || ['Opci√≥n']).forEach(key => {
                const val = preset && preset[key] ? preset[key].join(', ') : '';
                container.innerHTML += `<input type="text" class="input-glass attr-input" data-key="${key}" placeholder="${key} (sep. por comas)" value="${val}">`;
            });
        }

        function saveProduct() {
            const id = document.getElementById('editProductId').value;
            const name = document.getElementById('prodName').value;
            const price = parseFloat(document.getElementById('prodPrice').value);
            const category = document.getElementById('prodCategory').value;
            const imagesRaw = document.getElementById('prodImages').value;
            
            if(!name || !price) return showToast("Faltan datos");

            let attrs = {};
            document.querySelectorAll('.attr-input').forEach(i => {
                const val = i.value.split(',').map(s=>s.trim()).filter(s=>s!=='');
                if(val.length) attrs[i.dataset.key] = val;
            });

            const newProd = {
                id: id ? parseInt(id) : Date.now(),
                name, price, category, 
                images: imagesRaw.split(',').map(s=>s.trim()).filter(s=>s!==''),
                desc: document.getElementById('prodDesc').value,
                attributes: attrs,
                isNew: document.getElementById('prodNew').checked,
                inStock: document.getElementById('prodStock').checked
            };

            if(id) products[products.findIndex(p=>p.id==id)] = newProd;
            else products.push(newProd);

            saveDataToCloud();
            clearForm();
            switchAdminTab('products');
            renderAdminProducts();
            renderCategories();
            renderProducts(products);
        }

        function editProduct(id) {
            const p = products.find(x => x.id === id);
            document.getElementById('editProductId').value = p.id;
            document.getElementById('prodName').value = p.name;
            document.getElementById('prodPrice').value = p.price;
            document.getElementById('prodCategory').value = p.category;
            document.getElementById('prodImages').value = p.images.join(', ');
            document.getElementById('prodDesc').value = p.desc;
            document.getElementById('prodNew').checked = p.isNew;
            document.getElementById('prodStock').checked = p.inStock;
            renderAttributeInputs(p.attributes);
            switchAdminTab('add');
        }

        function deleteProduct(id) {
            if(confirm("¬øEliminar?")) {
                products = products.filter(p => p.id !== id);
                saveDataToCloud();
                renderAdminProducts();
                renderCategories();
                renderProducts(products);
            }
        }

        function clearForm() {
            document.getElementById('editProductId').value = '';
            document.querySelectorAll('#tab-add input:not([type=checkbox]):not([type=file]), #tab-add textarea').forEach(i => i.value='');
            renderAttributeInputs();
        }

        function showToast(msg) {
            const t = document.getElementById('toast');
            t.querySelector('span').innerText = msg;
            t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 3000);
        }
    </script>
</body>
</html>
